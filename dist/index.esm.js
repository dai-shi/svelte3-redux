import{readable as e}from"svelte/store";var t=function(t){return{subscribe:e(t.getState(),(function(e){return t.subscribe((function(){e(t.getState())}))})).subscribe,dispatch:t.dispatch}},r=Symbol("OWN_KEYS"),n=function(e,t,a){if(!function(e){try{var t=Object.getPrototypeOf(e);return t===Object.prototype||t===Array.prototype}catch(e){return!1}}(e))return e;var i=a&&a.get(e);return i||((i={recordUsage:function(e){var t=this.affected.get(this.originalObj);t||(t=new Set,this.affected.set(this.originalObj,t)),t.add(e)},get:function(e,t){return this.recordUsage(t),n(e[t],this.affected,this.proxyCache)},has:function(e,t){return this.recordUsage(t),t in e},ownKeys:function(e){return this.recordUsage(r),Reflect.ownKeys(e)}}).proxy=new Proxy(function(e){return Object.isFrozen(e)?Array.isArray(e)?Array.from(e):Object.assign({},e):e}(e),i),i.originalObj=e,a&&a.set(e,i)),i.affected=t,i.proxyCache=a,i.proxy},a=function(e,t){var r=Reflect.ownKeys(e),n=Reflect.ownKeys(t);return r.length!==n.length||r.some((function(e,t){return e!==n[t]}))},i=function(t){var i,o=new WeakMap,c=function(e){var t=new WeakMap,r=n(e,t,o);return i={state:e,affected:t,cache:new WeakMap},r},f=c(t.getState());return{subscribe:e(f,(function(e){return t.subscribe((function(){var n=t.getState();i.state!==n&&function e(t,n,i,o,c){if(t===n)return!1;if("object"!=typeof t||null===t)return!0;if("object"!=typeof n||null===n)return!0;var f=i.get(t);if(!f)return!!c;if(o){var s=o.get(t);if(s&&s.nextObj===n)return s.changed;o.set(t,{nextObj:n})}var u=null,b=f,h=Array.isArray(b),y=0;for(b=h?b:b[Symbol.iterator]();;){var g;if(h){if(y>=b.length)break;g=b[y++]}else{if((y=b.next()).done)break;g=y.value}var l=g,p=l===r?a(t,n):e(t[l],n[l],i,o,!1!==c);if("boolean"==typeof p&&(u=p),u)break}return null===u&&(u=!!c),o&&o.set(t,{nextObj:n,changed:u}),u}(i.state,n,i.affected,i.cache)&&e(c(n))}))})).subscribe,dispatch:t.dispatch}};export{t as bind,i as bindTracked};
//# sourceMappingURL=index.esm.js.map
