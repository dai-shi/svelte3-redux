var e=require("svelte/store"),t=Symbol("OWN_KEYS"),r=function(e,n,a){if(!function(e){try{var t=Object.getPrototypeOf(e);return t===Object.prototype||t===Array.prototype}catch(e){return!1}}(e))return e;var i=a&&a.get(e);return i||((i={recordUsage:function(e){var t=this.affected.get(this.originalObj);t||(t=new Set,this.affected.set(this.originalObj,t)),t.add(e)},get:function(e,t){return this.recordUsage(t),r(e[t],this.affected,this.proxyCache)},has:function(e,t){return this.recordUsage(t),t in e},ownKeys:function(e){return this.recordUsage(t),Reflect.ownKeys(e)}}).proxy=new Proxy(function(e){return Object.isFrozen(e)?Array.isArray(e)?Array.from(e):Object.assign({},e):e}(e),i),i.originalObj=e,a&&a.set(e,i)),i.affected=n,i.proxyCache=a,i.proxy},n=function(e,t){var r=Reflect.ownKeys(e),n=Reflect.ownKeys(t);return r.length!==n.length||r.some((function(e,t){return e!==n[t]}))};exports.bind=function(t){return{subscribe:e.readable(t.getState(),(function(e){return t.subscribe((function(){e(t.getState())}))})).subscribe,dispatch:t.dispatch}},exports.bindTracked=function(a){var i,c=new WeakMap,o=function(e){var t=new WeakMap,n=r(e,t,c);return i={state:e,affected:t,cache:new WeakMap},n},s=o(a.getState());return{subscribe:e.readable(s,(function(e){return a.subscribe((function(){var r=a.getState();i.state!==r&&function e(r,a,i,c,o){if(r===a)return!1;if("object"!=typeof r||null===r)return!0;if("object"!=typeof a||null===a)return!0;var s=i.get(r);if(!s)return!!o;if(c){var u=c.get(r);if(u&&u.nextObj===a)return u.changed;c.set(r,{nextObj:a})}var f=null,b=s,l=Array.isArray(b),d=0;for(b=l?b:b[Symbol.iterator]();;){var h;if(l){if(d>=b.length)break;h=b[d++]}else{if((d=b.next()).done)break;h=d.value}var y=h,g=y===t?n(r,a):e(r[y],a[y],i,c,!1!==o);if("boolean"==typeof g&&(f=g),f)break}return null===f&&(f=!!o),c&&c.set(r,{nextObj:a,changed:f}),f}(i.state,r,i.affected,i.cache)&&e(o(r))}))})).subscribe,dispatch:a.dispatch}};
//# sourceMappingURL=index.js.map
